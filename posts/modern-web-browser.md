---
title: 최신 웹 브라우저 살펴보기
date: '2023-03-13'
description: 최신 웹 브라우저는 우리가 작성한 코드를 어떻게 반영할까
tags: ['브라우저', '최적화', '크롬', '렌더링']
thumbnail: 'thumbnail.jpg'
---

> 해당 포스팅은 원문인 [_Inside look at modern web browser_](https://developer.chrome.com/blog/inside-browser-part1/)를 필자의 입맛에 맞게 번역 및 정리한 글입니다. 자세한 내용은 원문을 참고해주세요.

4부로 구성된 해당 시리즈에서 높은 수준의 아키텍처부터 렌더링 파이프라인의 세부 내용에 이르기까지 크롬 브라우저 내부를 살펴보도록 하겠습니다.

# 핵심 컴퓨팅 용어와 크롬의 다중 프로세스 아키텍처

---

이 시리즈 1부에서는 핵심 컴퓨팅 용어와 크롬의 다중 프로세스 아키텍처에 대해 살펴보겠습니다.

## 컴퓨터의 핵심은 CPU와 GPU

---

브라우저 실행을 이해하기 위해 몇 가지 부품들과 그 기능을 이해해야 합니다. 해당 글에선 주요 부품인 **GPU와 CPU**에 대해서 알아보도록 하겠습니다.

### CPU

---

중앙 처리 장치인 **CPU**는 **컴퓨터의 두뇌**라고 할 수 있으며, 다음의 특징을 갖습니다.

- 다양한 작업을 하나씩 처리할 수 있습니다.
- 과거에는 대부분의 CPU가 단일 칩이었습니다.
- 최신 하드웨어에서는 동일한 칩에 있는 다른 CPU인 **코어**를 둘 이상씩 사용하여 휴대폰 및 노트북에 더 좋은 컴퓨팅 성능을 제공합니다.

### GPU

---

그래픽 처리 장치인 **GPU**는 컴퓨터의 또 다른 부분이며 다음의 특징을 갖습니다.

- CPU와 달리 **간단한 작업 처리에 능숙**하지만, 동시에 **여러 코어에 걸쳐 있습니다.**
- 이름과 같이 **그래픽 처리**를 위해 개발되었으며, 이것이 GPU 사용 혹은 GPU 지원이 빠른 렌더링 및 원활한 인터랙션과 과련된 이유입니다.
- 최근 몇 년 동안 GPU 가속 컴퓨팅을 통해, 많은 컴퓨팅이 **GPU 단독**으로 가능해지고 있습니다.

컴퓨터나 휴대폰에서 응용 프로그램을 시작하면 위 두 가지 부품이 응용 프로그램을 구동합니다. 일반적으로 응용 프로그램은 **운영 체제에서 제공하는 메커니즘**을 사용하여 CPU 및 GPU에서 실행됩니다.

## 프로세스 및 스레드에서 프로그램 실행

---

브라우저 아키텍처를 이해하기 전 알아야 할 또 다른 개념으로 **프로세스 및 스레드**가 있습니다. 간단히 말하자면, 프로세스는 **응용 프로그램 내 실행 프로그램**이며, 스레드는 **프로세스 내부에서 프로그램 일부를 실행하는 것**입니다. 응용 프로그램 실행 과정을 통해 이를 더 자세히 알아보도록 합시다.

우선 응용 프로그램을 실행하면 **프로세스가 생성**됩니다. 이때 스레드를 생성할 수 있지만, 선택 사항입니다. 운영 체제는 작업할 **메모리의 판을 프로세스에 제공**하고 **모든 응용 프로그램 상태는 해당 메모리에 저장**됩니다. 응용 프로그램을 닫으면 **프로세스도 사라지고**, 운영 체제에서 **메모리를 확보**합니다.

> 여기서 **판**(원문 내 "slab")은 사전적으로 건축에서 판 형상의 구조물을 의미하는데, 원문에서는 **애플리케이션 메모리를 저장하는 영역**을 정의하기 위해 비유적으로 활용한 표현이라고 생각됩니다.

프로세스는 다른 작업을 실행하기 위해 **다른 프로세스를 가동하도록 운영 체제에 요청**할 수 있습니다. 이렇게 되면 **다른 메모리의 일정 부분이 새 프로세스에 할당**됩니다. 두 프로세스가 통신해야 하는 경우 **IPC**(Inter Process Communication)를 활용하여 통신할 수 있습니다. 많은 응용 프로그램은 작업자 프로세스가 응답하지 않는 경우, 응용 프로그램의 다른 부분을 실행하는 다른 프로세스를 중지하지 않고 다시 시작할 수 있도록 이러한 방식으로 설계되었습니다.

## 브라우저 아키텍쳐

---

그렇다면 프로세스와 스레드를 활용하여 웹 브라우저를 구축하는 방법을 알아봅시다. 여러 스레드가 있는 하나의 프로세스이거나 IPC를 통해 통신하는 몇 개의 스레드가 있는 여러 프로세스일 수 있습니다. 이러한 아키텍쳐들은 구현 세부 사항이며 표준 사양이란 없습니다.

> 해당 시리즈에선 최신 크롬 아키텍처를 활용하여 설명합니다.

최상단엔 응용 프로그램 내 다른 부분들을 관리하는 프로세스와 협력하는 **브라우저 프로세스**가 있습니다. **렌더러 프로세스**의 경우 여러 프로세스가 생성되어 각 탭에 할당됩니다.

> 최근까지 크롬은 가능한 경우 각 탭에 프로세스를 제공했으나, 이제 `iframe` 을 포함하여 **각 사이트에 자체 프로세스를 제공**하려는 시도를 합니다. ([사이트 격리](https://developer.chrome.com/blog/inside-browser-part1/#site-isolation) 참조)

## 프로세스의 제어 대상

---

크롬 내 프로세스들과 제어 대상은 다음과 같습니다.

- **브라우저 프로세스**는 주소 표시줄, 북마크, 뒤로 및 앞으로 버튼을 포함하여 **애플리케이션의 "크롬" 부분을 제어**합니다. 또한, 네트워크 요청 및 파일 액세스와 같은 웹 브라우저의 보이지 않는 권한 부분을 처리합니다.
- **렌더러 프로세스**는 웹사이트가 표시되는 **탭 내부의 모든 것**을 제어합니다.
- **플러그인 프로세스**는 예를 들어, 플래시와 같이 **웹 사이트에서 사용하는 모든 플러그인**을 제어합니다.
- **GPU 프로세스**는 다른 프로세스와 별도로 **GPU 작업을 처리**합니다. GPU가 여러 앱의 요청을 처리하고 동일한 표면에 그리기 때문에 다른 프로세스로 분리됩니다.

이외에도 확장 프로세스 및 유틸리티 프로세스와 같은 더 많은 프로세스들이 있습니다.

> 크롬 내에서 실행 중인 프로세스 수를 확인하려면 오른쪽 상단 모서리에 있는 케밥 아이콘(⋮)을 클릭하고 추가 도구를 클릭한 후, 작업 관리자를 선택하면 현재 실행 중인 프로세스 목록과 사용 중인 CPU/메모리 양이 표시된 창이 열립니다.
